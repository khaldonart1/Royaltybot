<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>التحقق من الجهاز</title>
    <!-- Telegram Web App script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- FingerprintJS script for robust device identification -->
    <script>
      // Initialize the agent at application startup.
      const fpPromise = import('https://openfpcdn.io/fingerprintjs/v4')
        .then(FingerprintJS => FingerprintJS.load())
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        :root {
            --bg-color: #f0f2f5;
            --text-color: #1c1e21;
            --container-bg: #ffffff;
            /* Restored original button color */
            --button-bg: #00a651; 
            --button-hover-bg: #008a43; /* Darker green for hover */
            --button-text: #ffffff;
            --success-color: #28a745;
            --error-color: #dc3545;
            --loader-color: var(--tg-theme-button-color, var(--button-bg));
        }
        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--tg-theme-bg-color, var(--bg-color));
            color: var(--tg-theme-text-color, var(--text-color));
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .container {
            background-color: var(--tg-theme-secondary-bg-color, var(--container-bg));
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 400px;
            width: 100%;
            transform: scale(0.95);
            opacity: 0;
            animation: fadeInScale 0.5s forwards cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        @keyframes fadeInScale {
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        .logo-container {
            width: 100px; /* Adjusted size for original logo */
            height: 100px;
            margin: 0 auto 15px auto;
        }
        .logo-container svg {
             width: 100%;
             height: 100%;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 10px;
            font-weight: 700;
        }
        p {
            font-size: 16px;
            margin-bottom: 25px;
            line-height: 1.6;
            color: var(--tg-theme-hint-color, #6c757d);
        }
        button {
            font-family: 'Cairo', sans-serif;
            background-color: var(--tg-theme-button-color, var(--button-bg));
            color: var(--tg-theme-button-text-color, var(--button-text));
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.2s, transform 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        button:hover {
            background-color: var(--button-hover-bg);
        }
        button:active {
            transform: scale(0.98);
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            opacity: 0.7;
        }
        #status {
            margin-top: 20px;
            font-weight: bold;
            font-size: 14px;
            height: 20px;
            transition: color 0.3s;
        }
        /* Loader animation */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--loader-color);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: none; /* Hidden by default */
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <!-- Restored Original SVG Logo -->
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="500" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="500" preserveAspectRatio="xMidYMid meet" version="1.2"><defs><clipPath id="719c00d97e"><path d="M 152 122.597656 L 248 122.597656 L 248 223.097656 L 152 223.097656 Z M 152 122.597656 "/></clipPath><clipPath id="1037aef76e"><path d="M 234 122.597656 L 283 122.597656 L 283 173 L 234 173 Z M 234 122.597656 "/></clipPath><clipPath id="9ae2ac1076"><path d="M 81.472656 82.492188 L 181.972656 82.492188 L 181.972656 193.492188 L 81.472656 193.492188 Z M 81.472656 82.492188 "/></clipPath><clipPath id="8f4b8a1325"><path d="M 179 82.492188 L 256 82.492188 L 256 154 L 179 154 Z M 179 82.492188 "/></clipPath><clipPath id="79398627bc"><path d="M 107 149 L 130.34375 149 L 130.34375 189 L 107 189 Z M 107 149 "/></clipPath><clipPath id="14e0fbe96f"><path d="M 79.519531 91.878906 L 102 91.878906 L 102 202.878906 L 79.519531 202.878906 Z M 79.519531 91.878906 "/></clipPath></defs><g id="00681055ec"><g clip-rule="nonzero" clip-path="url(#719c00d97e)"><path style=" stroke:none;fill-rule:evenodd;fill:#ffffff;fill-opacity:1;" d="M 245.851562 191.609375 C 253.457031 171.511719 235.277344 167.210938 216.980469 163.988281 C 202.90625 161.519531 187.375 160.734375 178.753906 157.335938 C 162.351562 150.859375 163.3125 141.390625 183.734375 122.597656 C 144.230469 142.988281 141.78125 158.847656 176.394531 170.175781 C 194.574219 176.097656 213.335938 175.867188 231.285156 181.125 C 239.296875 183.476562 240.257812 192.949219 230.207031 189.78125 C 229.59375 189.519531 229.011719 189.285156 228.371094 189.054688 C 220.910156 186.324219 197.867188 181.617188 187.144531 179.296875 C 182.804688 202.269531 234.519531 196.023438 223.328125 205.292969 C 218.230469 209.503906 197.808594 201.953125 192.242188 197.855469 C 193.234375 200.757812 195.5625 206.421875 202.703125 210.316406 C 203.75 217.664062 210.042969 223.097656 217.472656 223.097656 C 224.902344 223.097656 231.195312 217.664062 232.246094 210.316406 C 233.324219 209.503906 234.371094 208.6875 235.332031 207.875 C 238.625 205.117188 240.78125 202.996094 241.742188 201.253906 L 241.773438 201.195312 L 241.742188 201.253906 C 243.871094 198.40625 245.269531 195.125 245.851562 191.609375 Z M 242.269531 198.320312 C 242.296875 198.40625 242.296875 198.464844 242.328125 198.550781 C 242.296875 198.464844 242.296875 198.40625 242.269531 198.320312 Z M 242.269531 198.320312 "/></g><g clip-rule="nonzero" clip-path="url(#1037aef76e)"><path style=" stroke:none;fill-rule:evenodd;fill:#ffffff;fill-opacity:1;" d="M 252.464844 172.554688 C 253.980469 172.121094 256.921875 170.699219 258.523438 170.175781 C 293.136719 158.847656 290.691406 142.988281 251.183594 122.597656 C 271.605469 141.390625 273.265625 152.980469 256.195312 157.335938 C 250.542969 158.789062 239.179688 160.328125 234.402344 161.226562 C 241.015625 163 249.085938 167.242188 252.085938 171.945312 C 252.230469 172.148438 252.347656 172.355469 252.464844 172.554688 Z M 252.464844 172.554688 "/></g><g clip-rule="nonzero" clip-path="url(#9ae2ac1076)"><path style=" stroke:none;fill-rule:nonzero;fill:#ffffff;fill-opacity:1;" d="M 112.625 132.601562 C 107.917969 132.304688 104.039062 136.183594 104.335938 140.890625 C 104.582031 144.769531 107.730469 147.917969 111.609375 148.164062 C 116.316406 148.464844 120.195312 144.582031 119.898438 139.875 C 119.652344 135.996094 116.503906 132.847656 112.625 132.601562 Z M 181.96875 188.578125 L 181.296875 193.292969 C 179.109375 193.292969 177.257812 193.125 175.066406 192.957031 C 162.777344 192.113281 156.214844 188.917969 148.808594 178.480469 C 142.578125 169.894531 136.519531 159.289062 131.132812 150.703125 C 129.574219 148.210938 128.265625 146.65625 126.460938 145.703125 C 125.371094 145.132812 125.066406 143.726562 125.839844 142.769531 C 126.203125 142.316406 126.554688 141.855469 126.890625 141.390625 C 128.492188 139.1875 130.703125 137.5 133.210938 136.4375 C 134.882812 135.730469 136.359375 134.828125 137.695312 133.703125 C 144.261719 128.820312 146.953125 122.085938 146.953125 112.996094 C 146.953125 94.984375 135.003906 88.417969 122.042969 88.417969 C 117.160156 88.417969 85.15625 88.332031 81.472656 88.222656 L 81.472656 82.527344 L 124.398438 82.527344 C 136.6875 82.527344 144.933594 84.042969 151.332031 88.25 C 158.234375 92.628906 162.777344 100.203125 162.777344 110.46875 C 162.777344 124.949219 153.519531 134.039062 141.0625 139.425781 C 144.09375 144.644531 151.332031 155.921875 156.382812 163.496094 C 162.609375 172.417969 165.808594 176.628906 169.679688 180.835938 C 174.226562 185.71875 178.097656 187.570312 181.96875 188.578125 "/></g><g clip-rule="nonzero" clip-path="url(#8f4b8a1325)"><g mask="url(#0c86b9dfa7)" transform="matrix(0.113603,0,0,0.113924,178.939694,82.493608)"><image width="680" xlink:href="data:image/png;base64,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" height="632" preserveAspectRatio="xMidYMid meet"/></g></mask></g></g><g clip-rule="nonzero" clip-path="url(#79398627bc)"><path style=" stroke:none;fill-rule:nonzero;fill:#ed1c24;fill-opacity:1;" d="M 117.589844 149.484375 L 120.644531 149.484375 L 120.644531 163.90625 L 130.34375 163.90625 L 130.34375 188.890625 L 107.910156 188.890625 L 107.910156 163.90625 L 117.589844 163.90625 Z M 117.589844 149.484375 "/></g><g clip-rule="nonzero" clip-path="url(#14e0fbe96f)"><path style=" stroke:none;fill-rule:nonzero;fill:#00a651;fill-opacity:1;" d="M 79.34375 188.890625 L 79.34375 96.214844 L 89.046875 96.214844 L 89.046875 91.890625 L 92.101562 91.890625 L 92.101562 96.214844 L 101.777344 96.214844 L 101.777344 188.890625 L 92.101562 188.890625 L 92.101562 202.867188 L 89.046875 202.867188 L 89.046875 188.890625 Z M 79.34375 188.890625 "/></g><g style="fill:#00a651;fill-opacity:1;"><g transform="translate(138.619698, 285.024884)"><path style="stroke:none" d="M 1.046875 -14.15625 L 4.953125 -14.15625 C 6.503906 -14.15625 7.675781 -13.878906 8.46875 -13.328125 C 9.257812 -12.785156 9.65625 -11.816406 9.65625 -10.421875 C 9.65625 -9.472656 9.53125 -8.71875 9.28125 -8.15625 C 9.039062 -7.601562 8.585938 -7.171875 7.921875 -6.859375 L 9.859375 0 L 6.625 0 L 5.078125 -6.34375 L 4.171875 -6.34375 L 4.171875 0 L 1.046875 0 Z M 5.046875 -8.140625 C 5.679688 -8.140625 6.125 -8.304688 6.375 -8.640625 C 6.625 -8.972656 6.75 -9.472656 6.75 -10.140625 C 6.75 -10.785156 6.628906 -11.265625 6.390625 -11.578125 C 6.160156 -11.898438 5.757812 -12.0625 5.1875 -12.0625 L 4.171875 -12.0625 L 4.171875 -8.140625 Z M 5.046875 -8.140625 "/></g></g><g style="fill:#00a651;fill-opacity:1;"><g transform="translate(151.814209, 285.024884)"><path style="stroke:none" d="M 5.109375 0.203125 C 3.578125 0.203125 2.484375 -0.1875 1.828125 -0.96875 C 1.179688 -1.757812 0.859375 -2.921875 0.859375 -4.453125 L 0.859375 -9.71875 C 0.859375 -11.257812 1.179688 -12.414062 1.828125 -13.1875 C 2.484375 -13.96875 3.578125 -14.359375 5.109375 -14.359375 C 6.640625 -14.359375 7.734375 -13.96875 8.390625 -13.1875 C 9.054688 -12.40625 9.390625 -11.25 9.390625 -9.71875 L 9.390625 -4.453125 C 9.390625 -2.921875 9.054688 -1.757812 8.390625 -0.96875 C 7.734375 -0.1875 6.640625 0.203125 5.109375 0.203125 Z M 5.109375 -2.015625 C 5.546875 -2.015625 5.832031 -2.160156 5.96875 -2.453125 C 6.113281 -2.753906 6.1875 -3.160156 6.1875 -3.671875 L 6.1875 -10.484375 C 6.1875 -11.015625 6.113281 -11.425781 5.96875 -11.71875 C 5.832031 -12.007812 5.546875 -12.15625 5.109375 -12.15625 C 4.679688 -12.15625 4.398438 -12.003906 4.265625 -11.703125 C 4.128906 -11.410156 4.0625 -11.003906 4.0625 -10.484375 L 4.0625 -3.671875 C 4.0625 -3.160156 4.125 -2.753906 4.25 -2.453125 C 4.375 -2.160156 4.660156 -2.015625 5.109375 -2.015625 Z M 5.109375 -2.015625 "/></g></g><g style="fill:#00a651;fill-opacity:1;"><g transform="translate(164.764101, 285.024884)"><path style="stroke:none" d="M 2.828125 -5.78125 L 0.140625 -14.15625 L 3.09375 -14.15625 L 4.4375 -9.6875 L 5.640625 -14.15625 L 8.484375 -14.15625 L 5.84375 -5.78125 L 5.84375 0 L 2.828125 0 Z M 2.828125 -5.78125 "/></g></g><g style="fill:#00a651;fill-opacity:1;"><g transform="translate(176.089037, 285.024884)"><path style="stroke:none" d="M 3.046875 -14.15625 L 6.609375 -14.15625 L 9.25 0 L 6.359375 0 L 5.890625 -2.984375 L 3.8125 -2.984375 L 3.328125 0 L 0.359375 0 Z M 5.59375 -4.859375 L 4.84375 -10.390625 L 4.09375 -4.859375 Z M 5.59375 -4.859375 "/></g></g><g style="fill:#00a651;fill-opacity:1;"><g transform="translate(188.42738, 285.024884)"><path style="stroke:none" d="M 1.046875 -14.15625 L 4.171875 -14.15625 L 4.171875 -2.109375 L 7.4375 -2.109375 L 7.4375 0 L 1.046875 0 Z M 1.046875 -14.15625 "/></g></g><g style="fill:#00a651;fill-opacity:1;"><g transform="translate(198.878685, 285.024884)"><path style="stroke:none" d="M 2.328125 -11.84375 L 0.1875 -11.84375 L 0.1875 -14.15625 L 7.59375 -14.15625 L 7.59375 -11.84375 L 5.46875 -11.84375 L 5.46875 0 L 2.328125 0 Z M 2.328125 -11.84375 "/></g></g><g style="fill:#00a651;fill-opacity:1;"><g transform="translate(209.36494, 285.024884)"><path style="stroke:none" d="M 2.828125 -5.78125 L 0.140625 -14.15625 L 3.09375 -14.15625 L 4.4375 -9.6875 L 5.640625 -14.15625 L 8.484375 -14.15625 L 5.84375 -5.78125 L 5.84375 0 L 2.828125 0 Z M 2.828125 -5.78125 "/></g></g><g style="fill:#ed1c24;fill-opacity:1;"><g transform="translate(149.272041, 309.024882)"><path style="stroke:none" d="M 3.046875 -14.15625 L 6.609375 -14.15625 L 9.25 0 L 6.359375 0 L 5.890625 -2.984375 L 3.8125 -2.984375 L 3.328125 0 L 0.359375 0 Z M 5.59375 -4.859375 L 4.84375 -10.390625 L 4.09375 -4.859375 Z M 5.59375 -4.859375 "/></g></g><g style="fill:#ed1c24;fill-opacity:1;"><g transform="translate(161.610385, 309.024882)"><path style="stroke:none" d="M 1.046875 -14.15625 L 4.640625 -14.15625 C 5.859375 -14.15625 6.8125 -14.003906 7.5 -13.703125 C 8.1875 -13.398438 8.671875 -12.925781 8.953125 -12.28125 C 9.242188 -11.632812 9.390625 -10.769531 9.390625 -9.6875 L 9.390625 -4.546875 C 9.390625 -3.453125 9.242188 -2.578125 8.953125 -1.921875 C 8.671875 -1.265625 8.1875 -0.78125 7.5 -0.46875 C 6.820312 -0.15625 5.878906 0 4.671875 0 L 1.046875 0 Z M 4.671875 -2.171875 C 5.117188 -2.171875 5.453125 -2.234375 5.671875 -2.359375 C 5.890625 -2.492188 6.023438 -2.6875 6.078125 -2.9375 C 6.140625 -3.195312 6.171875 -3.570312 6.171875 -4.0625 L 6.171875 -10.234375 C 6.171875 -10.679688 6.140625 -11.023438 6.078125 -11.265625 C 6.015625 -11.503906 5.875 -11.679688 5.65625 -11.796875 C 5.4375 -11.921875 5.101562 -11.984375 4.65625 -11.984375 L 4.171875 -11.984375 L 4.171875 -2.171875 Z M 4.671875 -2.171875 "/></g></g><g style="fill:#ed1c24;fill-opacity:1;"><g transform="translate(174.560278, 309.024882)"><path style="stroke:none" d="M 1.234375 -14.15625 L 4.59375 -14.15625 L 6.15625 -5.921875 L 7.828125 -14.15625 L 11.0625 -14.15625 L 11.3125 0 L 9.09375 0 L 8.828125 -9.421875 L 7.1875 0 L 5.203125 0 L 3.46875 -9.5 L 3.25 0 L 1 0 Z M 1.234375 -14.15625 "/></g></g><g style="fill:#ed1c24;fill-opacity:1;"><g transform="translate(189.571938, 309.024882)"><path style="stroke:none" d="M 1.0625 -14.15625 L 4.203125 -14.15625 L 4.203125 0 L 1.0625 0 Z M 1.0625 -14.15625 "/></g></g><g style="fill:#ed1c24;fill-opacity:1;"><g transform="translate(197.54213, 309.024882)"><path style="stroke:none" d="M 1.046875 -14.15625 L 3.25 -14.15625 L 6.15625 -7.34375 L 6.15625 -14.15625 L 8.75 -14.15625 L 8.75 0 L 6.625 0 L 3.71875 -7.34375 L 3.71875 0 L 1.046875 0 Z M 1.046875 -14.15625 "/></g></g></g></svg>
        </div>

        <h1>التحقق من الجهاز</h1>
        <p>اضغط على الزر أدناه لإكمال عملية التحقق ومنع إساءة استخدام النظام.</p>
        <button id="verifyButton">
            <span class="button-text">اضغط هنا للتحقق</span>
            <div class="loader"></div>
        </button>
        <p id="status"></p>
    </div>
    <script>
        const tg = window.Telegram.WebApp;
        const verifyButton = document.getElementById('verifyButton');
        const statusElement = document.getElementById('status');
        const buttonText = document.querySelector('.button-text');
        const loader = document.querySelector('.loader');

        // Function to handle the verification process
        const handleVerification = async () => {
            try {
                // Update UI to show loading state
                statusElement.textContent = 'جاري التحقق...';
                statusElement.style.color = 'var(--tg-theme-text-color, var(--text-color))';
                verifyButton.disabled = true;
                buttonText.style.display = 'none';
                loader.style.display = 'block';

                // Get the visitor identifier when you need it.
                const fp = await fpPromise;
                const result = await fp.get();
                const visitorId = result.visitorId;

                if (visitorId) {
                    statusElement.textContent = 'تم التحقق بنجاح!';
                    statusElement.style.color = 'var(--success-color)';
                    
                    // Send the visitorId back to the bot
                    tg.sendData(JSON.stringify({ visitorId: visitorId }));

                    // Close the web app after a short delay
                    setTimeout(() => tg.close(), 1000);
                } else {
                    throw new Error("Failed to generate device ID.");
                }
            } catch (error) {
                console.error('Verification Error:', error);
                statusElement.textContent = 'فشل التحقق. يرجى المحاولة مرة أخرى.';
                statusElement.style.color = 'var(--error-color)';
                
                // Reset UI to initial state
                verifyButton.disabled = false;
                buttonText.style.display = 'inline';
                loader.style.display = 'none';
                
                // Show an alert to the user in Telegram
                tg.showAlert('حدث خطأ. يرجى إغلاق النافذة والمحاولة مرة أخرى.');
            }
        };

        // Prepare the web app
        tg.ready();
        tg.expand();
        
        // Add event listener to the button
        verifyButton.addEventListener('click', handleVerification);
    </script>
</body>
</html>
